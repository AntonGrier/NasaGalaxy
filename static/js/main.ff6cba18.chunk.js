(this["webpackJsonpnasa-galaxy"]=this["webpackJsonpnasa-galaxy"]||[]).push([[0],{114:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a,i,r,c,l,o,s,d,u,j=n(25),b=n.n(j),h=(n(114),n(184)),m=n(47),p=n(174),f=n(2),g=function(e){var t=e.children;return Object(f.jsx)(p.a,{in:!0,children:t})},x=n(40),O=n(12),y=n(189),v=n(185),k=n(0),w=Object(v.a)({visible:{display:"block"},nonVisible:{display:"none"}}),I=function(e){var t=w(),n=t.visible,a=t.nonVisible,i=Object(k.useState)(!1),r=Object(O.a)(i,2),c=r[0],l=r[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(y.a,{width:"100%",height:"100%",className:c?a:n}),Object(f.jsx)("img",Object(x.a)(Object(x.a)({},e),{},{alt:e.alt,onLoad:function(){return l(!0)},className:c?n:a}))]})},S=n(192),C=n(186),L=function(e){var t=e.open,n=e.handleClose,a=e.children;return Object(f.jsx)("div",{children:Object(f.jsx)(C.a,{open:t,onClose:n,children:Object(f.jsx)(S.a,{sx:{position:"fixed",overflowY:"auto",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxHeight:"80%",bgcolor:"background.paper",border:"2px solid #000000",boxShadow:24,padding:4},children:a})})})},D=function(e){var t=e.heights;return Object(f.jsx)(f.Fragment,{children:t.map((function(e,t){return Object(f.jsx)(y.a,{style:{marginBottom:"-200px"},width:"30rem",height:e},t)}))})},N=function(e){var t=e.url;return Object(f.jsx)("div",{className:"video-responsive",style:{height:"20rem",width:"100%"},children:Object(f.jsx)("iframe",{tabIndex:0,width:"100%",height:"100%",src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})},_=n(101),A=Object(_.a)({palette:{primary:{light:"#59cff3",main:"#36C5F0",dark:"#10a8d6"},error:{main:"#D40E0D"}},typography:{fontFamily:["Lexend","Roboto","Arial"].join(",")}}),F=n(41),T=n.n(F),z=n(59),J=n(190),R=n(37),M=n(97),E=n(30),W=n(58),B=n(31),P=(n(124),n(7)),H=n(9),G="LIKED_IMAGES",K=function(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getFullYear())},V=function(e){var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return"".concat(t,"-").concat(n<10?"0"+n:n,"-").concat(a<10?"0"+a:a)},Y=function(e,t){var n=new Date(e.date);return new Date(t.date).getTime()-n.getTime()},X=new(a=function e(){Object(W.a)(this,e),Object(E.a)(this,"allImages",i,this),Object(E.a)(this,"likedImages",r,this),Object(E.a)(this,"likedImageSet",c,this),Object(E.a)(this,"reloadCachedImages",l,this),Object(E.a)(this,"setAllImages",o,this),Object(E.a)(this,"setLikedImages",s,this),Object(E.a)(this,"likeImage",d,this),Object(E.a)(this,"unlikeImage",u,this),Object(P.m)(this),this.allImages=[],this.likedImages=[],this.likedImageSet=new Set,this.reloadCachedImages()},i=Object(B.a)(a.prototype,"allImages",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=Object(B.a)(a.prototype,"likedImages",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(B.a)(a.prototype,"likedImageSet",[P.o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(B.a)(a.prototype,"reloadCachedImages",[P.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=function(){var e=JSON.parse(localStorage.getItem(G)||"{}");return Object.keys(e)}();e.likedImageSet.clear();var n,a=Object(M.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.likedImageSet.add(i)}}catch(r){a.e(r)}finally{a.f()}}}}),o=Object(B.a)(a.prototype,"setAllImages",[P.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.allImages=t}}}),s=Object(B.a)(a.prototype,"setLikedImages",[P.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.likedImages=t}}}),d=Object(B.a)(a.prototype,"likeImage",[P.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){!function(e){var t=JSON.parse(localStorage.getItem(G)||"{}"),n=JSON.stringify(Object(x.a)(Object(x.a)({},t),{},Object(H.a)({},e,!0)));localStorage.setItem(G,n)}(t),e.likedImageSet.add(t)}}}),u=Object(B.a)(a.prototype,"unlikeImage",[P.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){!function(e){var t=JSON.parse(localStorage.getItem(G)||"{}");e in t&&delete t[e];var n=JSON.stringify(t);localStorage.setItem(G,n)}(t),e.likedImageSet.delete(t)}}}),a),q=Object(k.createContext)(X),Q=function(){return Object(k.useContext)(q)},U=n(73),Z=n.n(U),$="acPr7twdBH1nxguGu28anvKxPKuaVXbjwj0Jf8bG",ee="https://api.nasa.gov/planetary/apod",te=function(e){var t=e.start_date,n=e.end_date;return Z.a.get(ee,{params:{start_date:t,end_date:n,api_key:$,thumbs:!0}})},ne=function(e){var t=e.date;return Z.a.get(ee,{params:{date:t,api_key:$,thumbs:!0}})},ae=n(195),ie=n(197),re=n(194),ce=n(198),le=n(193),oe=n(100),se=n.n(oe),de=n(99),ue=n.n(de),je=n(61),be=n.n(je),he=n(98),me=n.n(he),pe=n(5),fe=Object(v.a)({imageThumbnail:{width:"100%",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"},likedImageStyle:{color:"red"}}),ge=function(e){var t=e.isLiked,n=e.handleLike,a=e.title,i=fe().likedImageStyle;return Object(f.jsx)(le.a,{"aria-label":"".concat(t?"Dislike":"Like"," post: ").concat(a),onClick:n,className:Object(pe.a)(t?"".concat(i," likedAnimation"):"unlikedAnimation"),children:t?Object(f.jsx)(me.a,{}):Object(f.jsx)(be.a,{})})},xe=function(e){var t=e.image,n=e.isLiked,a=e.handleLike,i=e.open,r=e.handleClose,c="video"===t.media_type;return Object(f.jsx)(L,{open:i,handleClose:r,children:Object(f.jsxs)("div",{style:{display:"flex",height:"100%"},children:[Object(f.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",width:"70%",height:"100%"},children:[c?Object(f.jsx)(N,{url:t.url}):Object(f.jsx)(I,{style:{objectFit:"cover",maxWidth:"100%",width:"auto",height:"auto"},alt:t.title,src:"video"===t.media_type?t.thumbnail_url:t.hdurl}),Object(f.jsxs)("div",{style:{display:"flex",background:"#777777",justifyContent:"space-between",alignItems:"center",border:"0.5px solid black"},children:[Object(f.jsx)(ge,{title:t.title,isLiked:n,handleLike:a}),Object(f.jsx)(re.a,{variant:"caption",component:"h3",style:{fontWeight:"bold",marginRight:"10px"},children:K(t.date)})]})]})}),Object(f.jsxs)("div",{style:{flex:1,overflow:"auto",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:[Object(f.jsx)(re.a,{variant:"body1",component:"h2",style:{fontWeight:"bold"},children:t.title}),Object(f.jsx)(re.a,{variant:"subtitle2",component:"h3",children:t.explanation})]})]})})},Oe=Object(v.a)({root:{margin:"20px 0"},imageThumbnail:{width:"100%",borderTopLeftRadius:"5px",borderTopRightRadius:"5px"}}),ye=Object(R.a)((function(e){var t=e.image,n=e.isLiked,a=Oe(),i=a.root,r=a.imageThumbnail,c=function(){var e=Object(k.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1];return{open:n,handleOpen:function(){return a(!0)},handleClose:function(){return a(!1)}}}(),l=c.open,o=c.handleOpen,s=c.handleClose,d=Object(k.useState)(!0),u=Object(O.a)(d,2),j=u[0],b=u[1],h=Q(),m=h.likeImage,p=h.unlikeImage,x="video"===t.media_type,y=function(){n?p(t.date):m(t.date)};return Object(f.jsx)(J.a,{className:i,container:!0,item:!0,xs:12,justifyContent:"center",children:Object(f.jsx)(g,{children:Object(f.jsxs)(ae.a,{style:{width:"35rem"},children:[Object(f.jsx)(xe,{open:l,handleClose:s,image:t,handleLike:y,isLiked:n}),Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[Object(f.jsxs)(ie.a,{onClick:function(){return o()},"aria-label":"Open Modal for post: ".concat(t.title),children:[Object(f.jsx)(I,{className:r,alt:t.title,src:x?t.thumbnail_url:t.url,width:"100%"}),x&&Object(f.jsx)(ue.a,{fontSize:"large",style:{color:"white",position:"absolute",bottom:"1%",right:"1%"}})]}),Object(f.jsxs)("div",{style:{background:"#777777",display:"flex",justifyContent:"space-between",alignItems:"center",border:"0.5px solid black"},children:[Object(f.jsx)(ge,{title:t.title,isLiked:n,handleLike:y}),Object(f.jsx)(re.a,{variant:"caption",component:"h3",style:{fontWeight:"bold",marginRight:"10px"},children:K(t.date)})]})]}),Object(f.jsxs)("div",{style:{padding:"10px"},children:[Object(f.jsx)(re.a,{variant:"body1",component:"h2",style:{fontWeight:"bold",width:"100%"},children:t.title}),Object(f.jsx)(ce.a,{in:!j,collapsedSize:48,children:Object(f.jsx)(re.a,{onClick:function(){return b((function(e){return!e}))},variant:"subtitle2",component:"h3",lineHeight:"normal",children:t.explanation})}),Object(f.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:Object(f.jsx)(le.a,{"aria-expanded":!j,"aria-label":"".concat(j?"Expand":"Collapse"," description of post: ").concat(t.title),size:"small",style:{transform:j?void 0:"rotate(180deg)",marginBottom:"-10px",marginTop:"-5px"},onClick:function(){return b((function(e){return!e}))},children:Object(f.jsx)(se.a,{})})})]})]})})})})),ve=Object(R.a)((function(){var e=Q(),t=e.likedImageSet,n=e.allImages,a=e.setAllImages,i=Object(k.useState)(!1),r=Object(O.a)(i,2),c=r[0],l=r[1];return Object(k.useEffect)((function(){var e=function(){var e=Object(z.a)(T.a.mark((function e(){var t,n,i,r,c,o,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=new Date,(n=new Date).setMonth(n.getMonth()-1),i=V(n),r=V(t),e.next=8,te({start_date:i,end_date:r});case 8:c=e.sent,o=c.data,s=o.sort(Y),l(!1),a(s);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n.length||e()}),[n,a]),c?Object(f.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(f.jsx)(D,{heights:Array(2).fill(600)})}):Object(f.jsx)(J.a,{id:"main",container:!0,spacing:4,style:{marginTop:"4%"},children:n.map((function(e){return Object(f.jsx)(ye,{image:e,isLiked:t.has(e.date)},e.date)}))})})),ke=[function(e){var t=e.children;return Object(f.jsx)(q.Provider,{value:X,children:t})}],we=function(e){var t=e.children;return Object(f.jsx)(f.Fragment,{children:ke.reduceRight((function(e,t){return Object(f.jsx)(t,{children:e})}),t)})},Ie=Object(R.a)((function(){var e=Object(k.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Q(),r=i.likedImageSet,c=i.likedImages,l=i.setLikedImages;return Object(k.useEffect)((function(){(function(){var e=Object(z.a)(T.a.mark((function e(){var t,n,i,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t=Array.from(r),n=t.map((function(e){return ne({date:e})})),e.next=5,Promise.all(n);case 5:i=e.sent,c=i.map((function(e){return e.data})).sort(Y),l(c),a(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,l]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(re.a,{component:"h2",variant:"h4",style:{marginTop:"100px",width:"100%",textAlign:"center",fontWeight:"bold"},children:"Liked Posts"}),n?Object(f.jsx)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:Object(f.jsx)(D,{heights:Array(2).fill(600)})}):Object(f.jsx)(J.a,{id:"main",container:!0,spacing:4,style:{marginTop:"10px"},children:c.filter((function(e){return r.has(e.date)})).map((function(e){return Object(f.jsx)(ye,{image:e,isLiked:r.has(e.date)},e.date)}))})]})})),Se=n(182),Ce=n(199),Le=n(200),De=n(191),Ne=n(201),_e=n(183),Ae=function(e){var t=e.children,n=Object(Se.a)();return Object(f.jsx)(_e.a,{appear:!1,direction:"down",in:!n,children:t})},Fe=function(e){var t=e.children;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ae,{children:Object(f.jsx)(Ce.a,{style:{backgroundColor:"black"},children:Object(f.jsxs)(Le.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)(De.a,{onClick:function(){return Object(m.b)("/")},style:{padding:"0 10px"},"aria-label":"Navigate Home",children:Object(f.jsx)(re.a,{style:{fontFamily:"fantasy"},color:"white",variant:"h4",component:"h1",children:"Starbound"})}),Object(f.jsx)(Ne.a,{href:"#main",className:"skip-to-content-link",underline:"none",children:Object(f.jsx)(re.a,{className:"skip-to-content-text",variant:"h6",component:"h2",children:"Skip to Content"})})]}),Object(f.jsx)(le.a,{onClick:function(){return Object(m.b)("/liked")},"aria-label":"Navigate to Liked posts",style:{color:"white"},children:Object(f.jsx)(be.a,{})})]})})}),t]})},Te=function(){return Object(f.jsx)(h.a,{theme:A,children:Object(f.jsx)(we,{children:Object(f.jsx)(Fe,{children:Object(f.jsxs)(m.a,{id:"router",children:[Object(f.jsx)(ve,{path:"/"}),Object(f.jsx)(Ie,{path:"liked"})]})})})})};b.a.render(Object(f.jsx)(k.StrictMode,{children:Object(f.jsx)(Te,{})}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.ff6cba18.chunk.js.map